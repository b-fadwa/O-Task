/*! For license information please see 724.e370177c.js.LICENSE.txt */
"use strict";(self.webpackChunkcommonjs=self.webpackChunkcommonjs||[]).push([[724],{"webpack/container/remote/qodly_0c2f8fd593aea2c48150/components":(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var n=r("webpack/sharing/consume/default/@ws-ui/webform-editor"),i=r("webpack/container/remote/qodly_0c2f8fd593aea2c48150/node_modules/react-icons/md/index.esm.js"),o=r("webpack/sharing/consume/default/@ws-ui/shared"),a=r("webpack/container/remote/qodly_0c2f8fd593aea2c48150/node_modules/react-icons/pi/index.esm.js");function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=[{label:"Orientation",type:n.ESetting.RADIOGROUP,defaultValue:"vertical",key:"orientation",multiple:!1,options:[{value:"horizontal",tooltip:"Horizontal",icon:a.PLG},{value:"vertical",tooltip:"Vertical",icon:a.v4L},{value:"grid",tooltip:"Grid",icon:a.nGv}]}],u=[{key:"datasource",label:"Qodly Source",type:n.ESetting.DS_AUTO_SUGGEST},{key:"currentElement",label:"Selected Element",type:n.ESetting.DS_AUTO_SUGGEST},{key:"iterator",label:"Iterate with",type:n.ESetting.TEXT_FIELD,modifier:n.ETextFieldModifier.ITERATOR,placeholder:n.DEFAULT_ITERATOR},{key:"serverSideRef",label:"Server Side",type:n.ESetting.TEXT_FIELD,hasError:o.validateServerSide,validateOnEnter:!0}],d=[{key:"properties",label:"Properties",type:n.ESetting.GROUP,components:s},{key:"dataAccess",label:"Data Access",type:n.ESetting.GROUP,components:u,isStateless:!0}].concat(l((0,n.load)(n.DEFAULT_SETTINGS).filter("dataAccess"))),f=[].concat(s,u,l((0,n.load)(n.BASIC_SETTINGS).filter("serverSideRef")));const h=d,v={craft:{displayName:"Virtualizer",kind:n.EComponentKind.BASIC,props:{iterable:!0,orientation:"vertical",classNames:[],events:[]},related:{settings:(0,n.Settings)(h,f)}},info:{settings:h,displayName:"Virtualizer",exposed:!0,icon:i.Boe,sanityCheck:{keys:[{name:"datasource",require:!0,isDatasource:!0},{name:"currentElement",require:!1,isDatasource:!0}]},requiredFields:{keys:["datasource"],all:!1},events:[{label:"On Click",value:"onclick"},{label:"On Select",value:"onselect"},{label:"On MouseEnter",value:"onmouseenter"},{label:"On MouseLeave",value:"onmouseleave"},{label:"On KeyDown",value:"onkeydown"},{label:"On KeyUp",value:"onkeyup"}],datasources:{declarations:[{key:"datasource",iterable:!0},{key:"currentElement"}]}},defaultProps:{orientation:"vertical",classNames:[],iterable:!0,style:{height:"300px",width:"400px"}}};var y=r("webpack/container/remote/qodly_0c2f8fd593aea2c48150/node_modules/classnames/index.js"),m=r.n(y),p=r("webpack/sharing/consume/default/react"),x=r("webpack/container/remote/qodly_0c2f8fd593aea2c48150/node_modules/@tanstack/react-virtual/dist/esm/index.js"),g=r("webpack/sharing/consume/default/@ws-ui/craftjs-core"),b=r("webpack/container/remote/qodly_0c2f8fd593aea2c48150/node_modules/lodash/set.js"),w=r.n(b),j=r("webpack/sharing/consume/default/react/jsx-runtime");const S=function(e){var t,r,o=e.orientation,a=void 0===o?"vertical":o,l=e.datasource,c=e.style,s=e.className,u=e.classNames,d=void 0===u?[]:u,f=(0,n.useEnhancedNode)((function(e){return{linkedNodes:e.data.linkedNodes,dom:e.dom}})),h=f.linkedNodes,v=f.actions.setProp,y=f.connectors.connect,b=(0,n.useEnhancedEditor)(n.selectResolver),S=b.resolver,E=b.query;(0,n.useDatasourceSub)();var k=h.element?E.node(h.element).get():null;(0,p.useEffect)((function(){"grid"===a&&k&&v((function(e){var t;w()(e,"styleboxWidth",null==k||null===(t=k.data.props)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.width)}))}),[a,d,null==c?void 0:c.width,null==c?void 0:c.height,null==k?void 0:k.dom,null==k||null===(t=k.data.props)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.width,null==k||null===(r=k.data.props)||void 0===r||null===(r=r.style)||void 0===r?void 0:r.height,null==k?void 0:k.data.nodes.length]);var N=(0,p.useRef)(null),O=(0,x.Te)({horizontal:"horizontal"===a,count:1e4,getScrollElement:function(){return N.current},estimateSize:function(){return"horizontal"===a?100:45},overscan:5}).getVirtualItems(),z=(0,p.useCallback)((function(){var e,t;return(0,j.jsx)("div",{ref:N,id:"virtualizer-list",className:"virtualizer-list",style:{height:"100%",width:"100%",overflowY:"auto"},children:(0,j.jsx)("div",{style:{height:"100%",position:"relative"},children:(0,j.jsx)("div",{style:{position:"absolute",top:0,left:0,height:"100%",transform:"translateX(".concat(null!==(e=null===(t=O[0])||void 0===t?void 0:t.start)&&void 0!==e?e:0,"px)")},children:O.map((function(e){return(0,j.jsx)("div",{"data-index":e.index,className:m()("virtualizer-item h-full",{"virtualizer-item-odd":e.index%2==0,"virtualizer-item-even":e.index%2==1}),children:0===e.index?(0,j.jsx)(n.IteratorProvider,{children:(0,j.jsx)(g.Element,{id:"element",style:{width:"fit-content",minWidth:"150px",height:"100%"},role:"element",is:S.StyleBox,deletable:!1,canvas:!0})}):null},e.key)}))})})})}),[O]),P=(0,p.useCallback)((function(){var e,t;return(0,j.jsx)("div",{ref:N,id:"virtualizer-list",className:"virtualizer-list",style:{height:"100%",width:"100%",overflow:"auto",contain:"strict"},children:(0,j.jsx)("div",{style:{width:"100%",position:"relative",height:"fit-content"},children:(0,j.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(null!==(e=null===(t=O[0])||void 0===t?void 0:t.start)&&void 0!==e?e:0,"px)")},children:O.map((function(e){return(0,j.jsx)("div",{"data-index":e.index,className:m()("virtualizer-item",{"virtualizer-item-odd":e.index%2==0,"virtualizer-item-even":e.index%2==1}),children:0===e.index?(0,j.jsx)(n.IteratorProvider,{children:(0,j.jsx)(g.Element,{id:"element",style:{height:"fit-content",minHeight:"100px",width:"100%"},role:"element",is:S.StyleBox,deletable:!1,canvas:!0})}):null},e.key)}))})})})}),[O]),T=(0,p.useCallback)((function(){return(0,j.jsx)("div",{ref:N,id:"virtualizer-list",className:"virtualizer-list",style:{height:"100%",width:"100%",overflowY:"auto",position:"relative"},children:O.map((function(e){return(0,j.jsx)("div",{className:"virtualizer-item ".concat(e.index%2?"virtualizer-item-odd":"virtualizer-item-even"),style:{position:"absolute",top:0,left:0,height:"100%"},children:0===e.index?(0,j.jsx)(n.IteratorProvider,{children:(0,j.jsx)(g.Element,{id:"element",style:{height:"200px",width:"200px"},role:"element",is:S.StyleBox,deletable:!1,canvas:!0})}):null},e.index)}))})}),[O]);return(0,j.jsx)("div",{ref:y,style:c,id:"virtualizer",className:m()("virtualizer w-fit h-fit border border-gray-300",s,d),children:l?"vertical"===a?(0,j.jsx)(P,{}):"horizontal"===a?(0,j.jsx)(z,{}):(0,j.jsx)(T,{}):(0,j.jsxs)("div",{className:"flex h-full flex-col items-center justify-center rounded-lg border bg-purple-400 py-4 text-white",children:[(0,j.jsx)(i.k4P,{className:"mb-1 h-8 w-8"}),(0,j.jsx)("p",{children:"Please attach a Qodly Source"})]})})},E=function(e){var t,r,i=e.style,o=e.className,a=e.classNames,l=e.iterator,c=e.connect,s=e.selected,u=e.ds,d=e.currentDs,f=e.parentRef,h=e.handleClick,v=e.resolver,y=e.count,p=(0,x.Te)({count:y,getScrollElement:function(){return f.current},estimateSize:function(){return 45}}),b=p.getVirtualItems();return(0,j.jsx)("div",{ref:c,style:i,id:"virtualizer",className:m()("w-fit h-fit",o,a),children:(0,j.jsx)("div",{ref:f,id:"virtualizer-list",className:"virtualizer-list",style:{height:"100%",width:"100%",overflowY:"auto",contain:"strict"},children:(0,j.jsx)("div",{style:{height:"".concat(p.getTotalSize(),"px"),width:"100%",position:"relative"},children:(0,j.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(null!==(t=null===(r=b[0])||void 0===r?void 0:r.start)&&void 0!==t?t:0,"px)")},children:b.map((function(e){return(0,j.jsx)("div",{"data-index":e.index,ref:p.measureElement,className:m()("virtualizer-item",{selected:e.index===s,"bg-purple-200":e.index===s,"virtualizer-item-odd":e.index%2==0,"virtualizer-item-even":e.index%2==1}),onClick:function(){return h(e.index)},children:(0,j.jsx)(n.EntityProvider,{index:e.index,selection:u,current:null==d?void 0:d.id,iterator:l,children:(0,j.jsx)(g.Element,{id:"element",className:"h-full w-full ",role:"element",is:v.StyleBox,canvas:!0})})},e.key)}))})})})})},k=function(e){var t=e.style,r=e.className,i=e.classNames,o=e.iterator,a=e.connect,l=e.selected,c=e.ds,s=e.currentDs,u=e.parentRef,d=e.count,f=e.handleClick,h=e.resolver,v=(0,x.Te)({horizontal:!0,count:d,getScrollElement:function(){return u.current},estimateSize:function(){return 45}}),y=v.getVirtualItems();return(0,j.jsx)("div",{ref:a,style:t,id:"virtualizer",className:m()("w-fit h-fit",r,i),children:(0,j.jsx)("div",{ref:u,className:"virtualizer-list",style:{height:"100%",width:"100%",overflowY:"auto"},children:(0,j.jsx)("div",{style:{width:v.getTotalSize(),height:"100%",position:"relative"},children:y.map((function(e){return(0,j.jsx)("div",{"data-index":e.index,ref:v.measureElement,className:m()("virtualizer-item",{selected:e.index===l,"bg-purple-200":e.index===l,"virtualizer-item-odd":e.index%2==0,"virtualizer-item-even":e.index%2==1}),onClick:function(){return f(e.index)},style:{position:"absolute",top:0,left:0,height:"100%",transform:"translateX(".concat(e.start,"px)")},children:(0,j.jsx)(n.EntityProvider,{index:e.index,selection:c,current:null==s?void 0:s.id,iterator:o,children:(0,j.jsx)(g.Element,{id:"element",className:"h-full w-full ",role:"element",is:h.StyleBox,canvas:!0})})},e.key)}))})})})};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const z=function(e){var t=e.style,r=e.className,i=e.classNames,o=e.iterator,a=e.connect,l=e.selected,c=e.ds,s=e.currentDs,u=e.parentRef,d=e.count,f=e.handleClick,h=e.resolver,v=e.styleboxWidth,y=(0,p.useRef)(0),b=N((0,p.useState)(0),2),w=b[0],S=b[1],E=N((0,p.useState)(0),2),k=E[0],O=E[1],z=N((0,p.useState)(0),2),P=z[0],T=z[1];(0,p.useEffect)((function(){var e=new ResizeObserver((function(e){var t=e[0].contentRect.width;S(t)}));if(u.current){e.observe(u.current);var t=u.current.offsetWidth;S(t)}return function(){return e.disconnect()}}),[]),(0,p.useEffect)((function(){var e=function(){if("string"==typeof v){if(v.includes("%")){var e=parseFloat(v)/100,t=w*e;return T(t),Math.floor(w/t)}if(v.includes("px")){var r=parseFloat(v);return T(r),Math.floor(w/r)}}return k}();O(e)}),[v,w,k]),(0,p.useLayoutEffect)((function(){var e,t;y.current=null!==(e=null===(t=u.current)||void 0===t?void 0:t.offsetTop)&&void 0!==e?e:0}),[]);var L=(0,x.Te)({count:Math.floor(d/k)+1,getScrollElement:function(){return u.current},estimateSize:function(){return 450}}),A=(0,x.XW)({count:k,scrollMargin:y.current,estimateSize:function(){return 35}}).getVirtualItems();return(0,j.jsx)("div",{ref:a,style:t,id:"virtualizer",className:m()("w-fit h-fit",r,i),children:(0,j.jsx)("div",{ref:u,className:"virtualizer-list",style:{height:"100%",width:"100%",overflowY:"auto"},children:(0,j.jsx)("div",{style:{height:L.getTotalSize(),position:"relative"},children:L.getVirtualItems().map((function(e){return(0,j.jsx)("div",{"data-index":e.index,ref:L.measureElement,style:{position:"absolute",top:0,left:0,transform:"translateY(".concat(e.start-L.options.scrollMargin,"px)"),display:"flex"},children:A.map((function(t){return(0,j.jsx)("div",{style:{width:P||"fit-content",height:"fit-content"},className:m()("virtualizer-item",{selected:e.index*k+t.index===l,"bg-purple-200":e.index*k+t.index===l,"virtualizer-item-odd":e.index*k+t.index%2==0,"virtualizer-item-even":e.index*k+t.index%2==1}),onClick:function(){return f(e.index*k+t.index)},children:e.index*k+t.index<d?(0,j.jsx)(n.EntityProvider,{index:e.index*k+t.index,selection:c,current:null==s?void 0:s.id,iterator:o,children:(0,j.jsx)(g.Element,{id:"element",className:"h-full w-full ",role:"element",is:h.StyleBox,canvas:!0})}):null},t.key)}))},e.key)}))})})})};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function T(){T=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),l=new A(n||[]);return i(a,"_invoke",{value:N(e,r,l)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",v="executing",y="completed",m={};function p(){}function x(){}function g(){}var b={};s(b,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(I([])));j&&j!==r&&n.call(j,a)&&(b=j);var S=g.prototype=p.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,o,a,l){var c=d(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==P(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function N(t,r,n){var i=f;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var l=n.delegate;if(l){var c=O(l,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var s=d(t,r,n);if("normal"===s.type){if(i=n.done?y:h,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=y,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(P(t)+" is not iterable")}return x.prototype=g,i(S,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:x,configurable:!0}),x.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new k(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return l.type="throw",l.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function L(e,t,r,n,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,i)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _=function(e){var t=e.orientation,r=void 0===t?"vertical":t,i=e.iterator,o=e.style,a=e.className,l=e.classNames,c=void 0===l?[]:l,s=e.styleboxWidth,u=(0,n.useRenderer)(),d=u.connect,f=u.emit,h=(0,n.useEnhancedNode)().id,v=(0,p.useRef)(null),y=A((0,p.useState)(-1),2),m=y[0],x=y[1],g=A((0,p.useState)(0),2),b=(g[0],g[1]),w=A((0,p.useState)(0),2),S=w[0],N=w[1],O=(0,n.useSources)({acceptIteratorSel:!0}).sources,P=O.datasource,I=O.currentElement,_=(0,n.useDataLoader)({source:P}).fetchIndex,D=(0,n.useEnhancedEditor)(n.selectResolver).resolver,C=(0,n.useDsChangeHandler)({source:P,currentDs:I,selected:m,setSelected:x,setScrollIndex:b,setCount:N,fetchIndex:_,onDsChange:function(e,t){t>=0&&R({index:t<e?t:0,forceUpdate:!0})},onCurrentDsChange:function(e){n.entitySubject.next({action:n.EntityActions.UPDATE,payload:{nodeID:h,index:e}})}}),R=C.updateCurrentDsValue,G=function(){var e,t=(e=T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),e.next=3,R({index:t});case 3:f("onselect");case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){L(o,n,i,a,l,"next",e)}function l(e){L(o,n,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();switch(r){case"vertical":return(0,j.jsx)(E,{connect:d,iterator:i,style:o,className:a,classNames:c,selected:m,ds:P,currentDs:I,parentRef:v,count:S,handleClick:G,resolver:D});case"horizontal":return(0,j.jsx)(k,{connect:d,iterator:i,style:o,className:a,classNames:c,selected:m,ds:P,currentDs:I,parentRef:v,count:S,handleClick:G,resolver:D});case"grid":return(0,j.jsx)(z,{connect:d,iterator:i,style:o,className:a,classNames:c,selected:m,ds:P,currentDs:I,parentRef:v,count:S,handleClick:G,resolver:D,styleboxWidth:s});default:return null}};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=function(e){return(0,n.useEnhancedEditor)((function(e){return{enabled:e.options.enabled}})).enabled?(0,j.jsx)(S,R({},e)):(0,j.jsx)(_,R({},e))};U.craft=v.craft,U.info=v.info,U.defaultProps=v.defaultProps;const F={Virtualizer:U}}}]);